webpackJsonp([1],[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var a=n(3),u=r(a),o=n(2),i=(r(o),n(7)),s=r(i),l=(0,u["default"])({email:{ele:"#email",text:"请正确输入邮箱格式"},password:{ele:"#password",text:"请正确输入密码格式"},auto:{ele:"#auto-login"}});(0,s["default"])(l,"userlogin")},,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t){return this instanceof a?(this.data={},this.flag={},this.eles={},void this.init.call(this,t)):new a(t)}function u(t,e){var n=t.parent().find(".attention");return{throwError:function(){t.addClass("error"),n.text(e)},normal:function(){n.text(""),t.removeClass("error")}}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=r(o),s=n(2),l=r(s),f=n(5),c=r(f),d=["checkbox","radio","select"],h={};a.getValue=function(t,e){return"checkbox"===e?Number(t.get(0).checked):t.val()};var g=a.prototype;g.init=function(t){var e=this,n=function(n){var r=(0,l["default"])(t[n].ele),o=r.attr("type");h[n]=a.getValue(r,o),Object.defineProperty(e.data,n,{get:function(){return h[n]},set:function(t){h[n]=t}}),e.eles[n]=r.get(0),e.eles[n].throwError=function(t){u((0,l["default"])(this),t).throwError()},d.indexOf(o)===-1?(e.flag[n]=!1,r.get(0).onchange=r.get(0).onkeyup=function(){var e=this,s=null;return function(){var l=a.getValue(r,o);i["default"][n](l,r.attr("id"))?(e.flag[n]=!0,e.data[n]=l,s&&s.normal()):(e.flag[n]=!1,s=s||u(r,t[n].text),s.throwError())}}.bind(e)()):r.get(0).onclick=function(){e.data[n]=a.getValue(r,o)}};for(var r in t)n(r)},g.submit=function(t){for(var e in this.flag)if(!this.flag[e])return void this.eles[e].onchange();return c["default"].post(t,h)},e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t){return function(e){return i[t].test(e)}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(2),o=r(u),i={email:/^(?:[a-z0-9]+[_\-+.]+)*[a-z0-9]+@(?:([a-z0-9]+-?)*[a-z0-9]+.)+([a-z]{2,})+$/i,password:/^\S{6,16}$/,username:/^(?:[\u4e00-\u9fa5]|[\w]){2,18}$/};e["default"]={email:a("email"),password:a("password"),username:a("username"),resure:function(t,e){return e=(0,o["default"])("#"+e.substring(2)),e.val()===t}}},function(t,e){"use strict";function n(t){for(var e=Object.keys(t),n=e.length,r="",a=0;a<n;a++)r+=e[a]+"="+t[e[a]]+"&";return r.substring(0,r.length-1)}function r(t,e){4===this.readyState&&(this.status>=200&&this.status<300||304===this.status?t(this.response):e())}Object.defineProperty(e,"__esModule",{value:!0});var a={post:function(t,e){return new Promise(function(a,u){var o=new XMLHttpRequest;o.open("post",t),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(n(e)),o.onreadystatechange=function(){r.call(this,a,u)}})}};e["default"]=a},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){var n=!1;(0,o["default"])("#sign-in").get(0).onclick=function(){if(!n){var r=t.submit(e);r&&(i.show(),function(){n=!0,r.then(function(e){return n=!1,e=JSON.parse(e),e.flag?window.location.href="./":(i.hide(),e.error?(0,o["default"])("#attention").text("服务器繁忙,请稍后再试!"):void t.eles[e.ele].throwError(e.msg))},function(){n=!1,i.hide(),(0,o["default"])("#attention").text("服务器繁忙,请稍后再试!")})}())}}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(2),o=r(u),i={show:function(){(0,o["default"])("#mask").css({display:"block"})},hide:function(){(0,o["default"])("#mask").css({display:"none"})}};e["default"]=a}]);