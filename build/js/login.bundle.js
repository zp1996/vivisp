webpackJsonp([1],[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(3),a=r(o),i=n(2),s=r(i),u=(0,a["default"])({email:{ele:"#email",text:"请正确输入邮箱格式"},password:{ele:"#password",text:"请正确输入密码格式"},auto:{ele:"#auto-login"}}),l={show:function(){(0,s["default"])("#mask").css({display:"block"})},hide:function(){(0,s["default"])("#mask").css({display:"none"})}},c=!1;(0,s["default"])("#sign-in").get(0).onclick=function(){if(!c){var t=u.submit("./login");t&&(l.show(),function(){c=!0,t.then(function(t){return c=!1,t=JSON.parse(t),t.flag?window.location.href="./":(l.hide(),void u.eles[t.ele].throwError(t.msg))},function(){c=!1,console.log(1.12)})}())}}},,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return this instanceof o?(this.data={},this.flag={},this.eles={},void this.init.call(this,t)):new o(t)}function a(t,e){var n=t.parent().find(".attention");return{throwError:function(){t.addClass("error"),n.text(e)},normal:function(){n.text(""),t.removeClass("error")}}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=r(i),u=n(2),l=r(u),c=n(5),f=r(c),d=["checkbox","radio","select"],h={};o.getValue=function(t,e){return"checkbox"===e?Number(t.get(0).checked):t.val()};var g=o.prototype;g.init=function(t){var e=this,n=function(n){var r=(0,l["default"])(t[n].ele),i=r.attr("type");h[n]=o.getValue(r,i),Object.defineProperty(e.data,n,{get:function(){return h[n]},set:function(t){h[n]=t}}),e.eles[n]=r.get(0),e.eles[n].throwError=function(t){a((0,l["default"])(this),t).throwError()},d.indexOf(i)===-1?(e.flag[n]=!1,r.get(0).onchange=function(){var e=this,u=null;return function(){var l=o.getValue(r,i);s["default"][n](l)?(e.flag[n]=!0,e.data[n]=l,u&&u.normal()):(e.flag[n]=!1,u=u||a(r,t[n].text),u.throwError())}}.bind(e)()):r.get(0).onclick=function(){e.data[n]=o.getValue(r,i)}};for(var r in t)n(r)},g.submit=function(t){for(var e in this.flag)if(!this.flag[e])return void this.eles[e].onchange();return f["default"].post(t,h)},e["default"]=o},function(t,e){"use strict";function n(t){return function(e){return r[t].test(e)}}Object.defineProperty(e,"__esModule",{value:!0});var r={email:/^(?:[a-z0-9]+[_\-+.]+)*[a-z0-9]+@(?:([a-z0-9]+-?)*[a-z0-9]+.)+([a-z]{2,})+$/i,password:/^\S{6,16}$/};e["default"]={email:n("email"),password:n("password")}},function(t,e){"use strict";function n(t){for(var e=Object.keys(t),n=e.length,r="",o=0;o<n;o++)r+=e[o]+"="+t[e[o]]+"&";return r.substring(0,r.length-1)}function r(t,e){4===this.readyState&&(this.status>=200&&this.status<300||304===this.status?t(this.response):e())}Object.defineProperty(e,"__esModule",{value:!0});var o={post:function(t,e){return new Promise(function(o,a){var i=new XMLHttpRequest;i.open("post",t),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(n(e)),i.onreadystatechange=function(){r.call(this,o,a)}})}};e["default"]=o}]);